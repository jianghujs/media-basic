{"version":3,"file":"flv-decoder.dev.js","sources":["../node_modules/@babel/runtime/helpers/classCallCheck.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/toPrimitive.js","../node_modules/@babel/runtime/helpers/toPropertyKey.js","../node_modules/@babel/runtime/helpers/createClass.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../src/emitter.js","../src/flv-demuxer.js","../src/audioPlayer.js","../src/yuvRender.js","../src/wcsDecoder.js","../src/index.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inherits, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar assertThisInitialized = require(\"./assertThisInitialized.js\");\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}\nmodule.exports = _possibleConstructorReturn, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _getPrototypeOf(o);\n}\nmodule.exports = _getPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export default class Emitter {\n    on(name, fn, ctx) {\n        const e = this.e || (this.e = {});\n        (e[name] || (e[name] = [])).push({fn, ctx});\n        return this;\n    }\n\n    once(name, fn, ctx) {\n        const self = this;\n\n        function listener(...args) {\n            self.off(name, listener);\n            fn.apply(ctx, args);\n        }\n\n        listener._ = fn;\n        return this.on(name, listener, ctx);\n    }\n\n    emit(name, ...data) {\n        const evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n        for (let i = 0; i < evtArr.length; i += 1) {\n            evtArr[i].fn.apply(evtArr[i].ctx, data);\n        }\n        return this;\n    }\n\n    off(name, callback) {\n        const e = this.e || (this.e = {});\n\n        if (!name) {\n            Object.keys(e).forEach((key) => {\n                delete e[key];\n            })\n            delete this.e\n            return;\n        }\n\n        const evts = e[name];\n        const liveEvents = [];\n        if (evts && callback) {\n            for (let i = 0, len = evts.length; i < len; i += 1) {\n                if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n            }\n        }\n        if (liveEvents.length) {\n            e[name] = liveEvents;\n        } else {\n            delete e[name];\n        }\n        return this;\n    }\n}\n","import Emitter from \"./emitter\";\n\nconst FLV_PARSE_STATE = {\n    init: \"init\",//\n    header: \"header\",//\n    body: \"body\",//\n}\n\nconst FLV_TAG_TYPE = {\n    audio: 8, //\n    video: 9, //\n    script: 18,//\n}\nconst FLV_TAG_TYPE_SHOW = {\n    8: \"audio\", //\n    9: \"video\", //\n    18: \"script\",//\n}\n\n\nconst CODEC_ID = {\n    h264: 7, // AVC\n    h265: 12, // HEVC\n}\nconst CODEC_ID_SHOW = {\n    7: \"h264\", // AVC\n    12: \"h265\", // HEVC\n}\n\n\nconst SOUND_ID = {\n    g711a: 7, //\n    g711u: 8, //\n    aac: 10,//\n}\n\nconst AAC_PACKET_TYPE = {\n    sequenceHeader: 0,//\n    raw: 1,//\n}\n\nconst VIDEO_FRAME_TYPE = {\n    keyFrame: 1,//\n    interFrame: 2,//\n}\n\nconst VIDEO_PACKET_TYPE = {\n    sequenceHeader: 0, //\n    nalu: 1, //\n}\n\n\nclass FlvDemuxer extends Emitter {\n    constructor() {\n        super();\n        this.tempBuffer = null;\n        //\n        this.needLen = 9;\n        this.state = FLV_PARSE_STATE.init;\n    }\n\n    destroy() {\n        this.reset();\n    }\n\n    reset() {\n        this.tempBuffer = null;\n        this.needLen = 9;\n        this.state = FLV_PARSE_STATE.init;\n    }\n\n    dispatchold(data) {\n        //\n        let remain = data;\n\n        // merge tempBuffer and data\n        if (this.tempBuffer) {\n            let newBuffer = new Uint8Array(this.tempBuffer.length + data.length);\n            newBuffer.set(this.tempBuffer, 0);\n            newBuffer.set(data, this.tempBuffer.length);\n            remain = newBuffer;\n            this.tempBuffer = undefined;\n        }\n        //\n        const tmp = new ArrayBuffer(4);\n        const dv = new DataView(tmp);\n\n        let tagType;\n        let dts;\n        let pts;\n        // parse flv\n        while (true) {\n\n            if (remain.length < this.needLen) {\n                console.log(`remain.length < this.needLen: ${remain.length} < ${this.needLen}`);\n                break;\n            }\n\n            //\n            if (this.state === FLV_PARSE_STATE.init) {\n                // flv header 9 bytes\n                let flvHeader = remain.slice(0, this.needLen);\n                console.log('flvHeader: ', flvHeader);\n                // 前3字节是 'FLV' 三个字符\n                const f = flvHeader[0];\n                const l = flvHeader[1];\n                const v = flvHeader[2];\n                // 第4字节是版本号，只有 0x01 这一个合法值\n                const version = flvHeader[3];\n                console.log('flv', f, l, v);\n                console.log('version: ', version);\n                // 第5字节是Flags ，用于鉴别是否含有音频、视频数据\n                let hasAudio = ((flvHeader[4] & 4) >>> 2) !== 0;\n                let hasVideo = (flvHeader[4] & 1) !== 0;\n                console.log('hasAudio: ', hasAudio);\n                console.log('hasVideo: ', hasVideo);\n                // 6-9字节，组成一个int32是 Header Size，这个值一定不小于0x09\n                console.log(`FLV_PARSE_STATE.init current needLen is ${this.needLen}, and next needLen is 15, and next stats is FLV_PARSE_STATE.header`)\n                //\n                remain = remain.slice(this.needLen);\n                // next length is 15 bytes 15 =  4(previous tag size)+ 11(tag header) ;\n                this.needLen = 15;\n                //\n                this.state = FLV_PARSE_STATE.header;\n            } else if (this.state === FLV_PARSE_STATE.header) {\n                // 0,1,2,3 is previous tag size\n                tagType = remain[4] & 0x1F; // 5bit代表类型,8:audio 9:video 18:script other:其他\n                console.log('FLV_PARSE_STATE.header,tagType', FLV_TAG_TYPE_SHOW[tagType]);\n                // 2-4 消息长度\n                dv.setUint8(0, remain[7]);\n                dv.setUint8(1, remain[6]);\n                dv.setUint8(2, remain[5]);\n                dv.setUint8(3, 0);\n\n                const payloadLen = dv.getUint32(0, true); //Tag 中除通用头外的长度，即 Header + Data 字段的长度 (等于 Tag 总长度 – 11)\n                // 5-7 时间戳\n                dv.setUint8(0, remain[10]);\n                dv.setUint8(1, remain[9]);\n                dv.setUint8(2, remain[8]);\n                // 8-8 时间戳扩展\n                dv.setUint8(3, remain[11]);\n\n                dts = dv.getUint32(0, true);\n\n                console.log('needLen is', this.needLen);\n                //\n                let commonHeader = remain.slice(0, this.needLen);\n                //\n                remain = remain.slice(this.needLen);\n                // 下一个长度是 tag body\n                this.needLen = payloadLen;\n                console.log(`nextLength is ${payloadLen} and next is FLV_PARSE_STATE.body`)\n                this.state = FLV_PARSE_STATE.body;\n            } else {\n                // tag body = tag header(1-5) + tag data\n                if (tagType === FLV_TAG_TYPE.video) {\n                    // 1-4bit，帧类型【FrameType】\n                    let frameType = (remain[0] >> 4) & 0x0F;\n                    //  5-8bit，编码类型【CodecID】\n                    let codecId = (remain[0]) & 0x0F;\n\n                    if (codecId === CODEC_ID.h264 || codecId === CODEC_ID.h265) {\n\n                        // h264 or h265\n                        const packetType = remain[1];\n                        console.log('frameType packetType', frameType, packetType);\n\n                        // compositionTime\n                        dv.setUint8(0, remain[4]);\n                        dv.setUint8(1, remain[3]);\n                        dv.setUint8(2, remain[2]);\n                        dv.setUint8(3, 0);\n\n                        let compositionTime = dv.getUint32(0, true);\n                        pts = dts + compositionTime;\n\n                        if (frameType === VIDEO_FRAME_TYPE.keyFrame) {\n\n                            if (packetType === VIDEO_PACKET_TYPE.sequenceHeader) {\n                                console.log(`${CODEC_ID_SHOW[codecId]} keyFrame sequenceHeader`);\n                                const config = remain.slice(0, this.needLen);\n\n                                // 用来解析video的width，height ， extraData\n                                // tag header (1-5)\n                                const extraData = remain.slice(5, this.needLen);\n                                this.emit('videoExtraData', {\n                                    codecId,\n                                    extraData,\n                                });\n                            } else if (packetType === VIDEO_PACKET_TYPE.nalu) {\n                                console.warn(`${CODEC_ID_SHOW[codecId]} keyFrame nalu, dts: ${dts}, pts: ${pts}`);\n                                // tag header (1-5)\n                                const nalu = remain.slice(5, this.needLen);\n                                this.emit('videoData', {\n                                    nalu,\n                                    timestamp: dts,\n                                    isKeyFrame: true\n                                });\n                            } else {\n                                console.warn('other packet type nalu', packetType);\n                            }\n\n                        } else if (frameType === VIDEO_FRAME_TYPE.interFrame) {\n                            if (packetType === VIDEO_PACKET_TYPE.nalu) {\n                                console.log(`${CODEC_ID_SHOW[codecId]} interFrame nalu, dts: ${dts}, pts: ${pts}`);\n                                // P Frame\n                                // tag header (1-5)\n                                const nalu = remain.slice(5, this.needLen);\n                                this.emit('videoData', {\n                                    nalu,\n                                    timestamp: dts,\n                                    isKeyFrame: false\n                                });\n                            }\n                        } else {\n                            console.log('other frame type', frameType);\n                        }\n                    }\n\n                } else if (tagType === FLV_TAG_TYPE.audio) {\n                    // 音频格式【SoundFormat】\n                    let soundId = (remain[0] >> 4) & 0x0F;\n                    let soundrate = (remain[0]>>2)&0x02;\n                    let soundsize = (remain[0]>>1)&0x01;\n                    let soundtype = (remain[0])&0x0F;\n\n                    if (soundId === SOUND_ID.aac) {\n                        // aac about sequence header and raw\n                        // [2-2]：AAC音频类型，注，只有在SoundFormat=AAC 时，才有此数据\n                        //  0 = AAC sequence header\n                        //  1 = AAC raw\n                        const packetType = remain[1];\n                        if (packetType === AAC_PACKET_TYPE.sequenceHeader) {\n                            const config = remain.slice(0, this.needLen);\n                            const aacSequenceHeader = remain.slice(2, this.needLen);\n                            console.log('AAC sequence header');\n                            this.emit('audioExtraData', {\n                                codecId: soundId,\n                                type: 'aac',\n                                extraData: aacSequenceHeader\n                            });\n                        } else {\n                            // AAC raw\n                            const aacRaw = remain.slice(2, this.needLen);\n                            console.log('AAC raw')\n                            this.emit('audioData', {\n                                type: 'aac',\n                                timestamp: dts,\n                                data: aacRaw\n                            })\n                        }\n                    } else {\n                        const type = soundId === SOUND_ID.g711a ? 'g711a' : 'g711u';\n                        this.emit('audioExtraData', {\n                            type,\n                            extraData: new Uint8Array(0)\n                        })\n                        // g711a or g711u\n                        // 音频数据\n                        const g711Raw = remain.slice(1, this.needLen);\n                        console.log('g711 raw')\n                        this.emit('audioData', {\n                            type,\n                            timestamp: dts,\n                            data: g711Raw\n                        })\n                    }\n\n                } else if (tagType === FLV_TAG_TYPE.script) {\n                    console.log('script tag');\n                } else {\n                    console.log('other tag type', tagType);\n                }\n                //\n                remain = remain.slice(this.needLen);\n                // next length is 15 bytes 15 =  4(previous tag size)+ 11(tag header) ;\n                this.needLen = 15;\n                this.state = FLV_PARSE_STATE.header;\n            }\n        }\n\n        this.tempBuffer = remain;\n    }\n\n\n    dispatch(data) {\n\n        let remain = data;\n\n        if (this.tempBuffer) {\n\n            let newbuffer = new Uint8Array(this.tempBuffer.length + data.length);\n            newbuffer.set(this.tempBuffer, 0);\n            newbuffer.set(data, this.tempBuffer.length);\n\n            remain = newbuffer;\n            this.tempBuffer = undefined;\n        }\n\n        const tmp = new ArrayBuffer(4);\n        const dv = new DataView(tmp);\n\n        while(true) {\n\n            if (remain.length < this.needLen) {\n\n                break;\n            }\n\n            if (this.state === FLV_PARSE_STATE.init) {\n\n                let flvheader = remain.slice(0, this.needLen);\n                remain = remain.slice(this.needLen);\n\n                this.needLen = 15;\n                this.state = FLV_PARSE_STATE.header;\n\n            } else if (this.state === FLV_PARSE_STATE.header) {\n\n                this._tagtype = remain[4]&0x1F; // 5bit代表类型,8:audio 9:video 18:script other:其他\n\n                dv.setUint8(0, remain[7]);\n                dv.setUint8(1, remain[6]);\n                dv.setUint8(2, remain[5]);\n                dv.setUint8(3, 0);\n\n                let payloadlen = dv.getUint32(0, true); //Tag 中除通用头外的长度，即 Header + Data 字段的长度 (等于 Tag 总长度 – 11)\n\n                dv.setUint8(0, remain[10]);\n                dv.setUint8(1, remain[9]);\n                dv.setUint8(2, remain[8]);\n                dv.setUint8(3, remain[11]);\n\n                this._dts = dv.getUint32(0, true);\n\n                let tagcommonheader = remain.slice(0, this.needLen);\n                remain = remain.slice(this.needLen);\n\n                this.needLen = payloadlen;\n                this.state = FLV_PARSE_STATE.body;\n\n            } else {\n\n                if (this._tagtype === FLV_TAG_TYPE.video) {\n\n                    let frametype = (remain[0]>>4)&0x0F;\n                    let codecid = (remain[0])&0x0F;\n\n                    if (codecid === CODEC_ID.h264 || codecid === CODEC_ID.h265) {\n\n                        let avcpackettype = remain[1];\n                        console.log('frameType packetType', frametype, avcpackettype);\n\n                        dv.setUint8(0, remain[4]);\n                        dv.setUint8(1, remain[3]);\n                        dv.setUint8(2, remain[2]);\n                        dv.setUint8(3, 0);\n\n                        let compositiontime = dv.getUint32(0, true);\n                        this._pts = this._dts + compositiontime;\n\n                        if (frametype === VIDEO_FRAME_TYPE.keyFrame) {\n\n                            if (avcpackettype === VIDEO_PACKET_TYPE.sequenceHeader) {\n                                console.log(`keyFrame sequenceHeader`);\n\n                                //avcseq\n                                // let info = readAVCSpecificConfig(remain.slice(0, this.needLen));\n\n\n                                // this._videoinfo.vtype = codecid === CodecID.AVC ? VideoType.H264 : VideoType.H265;\n                                // this._videoinfo.width = info.width;\n                                // this._videoinfo.height = info.height\n                                // this._videoinfo.extradata = remain.slice(5, this.needLen);\n                                const extraData = remain.slice(5, this.needLen);\n\n                                this.emit('videoExtraData', {\n                                    codecId:codecid,\n                                    extraData,\n                                });\n                            } else if (avcpackettype === VIDEO_PACKET_TYPE.nalu) {\n                                console.warn(`keyFrame nalu, dts: ${this._dts}`);\n\n                                //I Frame\n                                let vframe = remain.slice(5, this.needLen);\n\n\n                                this.emit('videoData', {\n                                    nalu:vframe,\n                                    timestamp: this._dts,\n                                    isKeyFrame: true\n                                });\n\n                            } else {\n\n\n                            }\n\n\n                        } else if (frametype === VIDEO_FRAME_TYPE.interFrame) {\n\n                            if (avcpackettype === VIDEO_PACKET_TYPE.nalu) {\n                                console.log(`interFrame nalu, dts: ${this._dts}`);\n                                //P Frame\n                                let vframe = remain.slice(5, this.needLen);\n\n\n                                this.emit('videoData', {\n                                    nalu:vframe,\n                                    timestamp: this._dts,\n                                    isKeyFrame: false\n                                });\n\n                            } else {\n\n\n                            }\n\n                        } else {\n\n\n                        }\n\n\n                    }\n\n                } else if (this._tagtype === FLV_TAG_TYPE.audio) {\n\n                    let soundformat = (remain[0]>>4)&0x0F;\n                    let soundrate = (remain[0]>>2)&0x02;\n                    let soundsize = (remain[0]>>1)&0x01;\n                    let soundtype = (remain[0])&0x0F;\n\n                    if (soundformat === SOUND_ID.aac) {\n\n                        let aacpackettype = remain[1];\n\n                        if (aacpackettype === AAC_PACKET_TYPE.sequenceHeader) {\n\n                            // let aacinfo = readAACSpecificConfig(remain.slice(0, this.needLen));\n\n\n                            // this._audioinfo.atype = AudioType.AAC;\n                            // this._audioinfo.profile = aacinfo.object_type;\n                            // this._audioinfo.sample = aacinfo.sample_rate;\n                            // this._audioinfo.channels = aacinfo.chan_config;\n                            // this._audioinfo.depth = soundsize ? 16 : 8;\n                            // this._audioinfo.extradata = remain.slice(2, this.needLen);\n                            const aacSequenceHeader = remain.slice(2, this.needLen);\n\n                            this.emit('audioExtraData', {\n                                codecId: soundformat,\n                                type: 'aac',\n                                extraData: aacSequenceHeader\n                            });\n\n                        } else {\n\n                            let aacraw = remain.slice(2, this.needLen);\n\n                            // let packet = new AVPacket();\n                            // packet.payload = aacraw;\n                            // packet.iskeyframe = false;\n                            // packet.timestamp = this._dts;\n                            // packet.avtype = AVType.Audio;\n\n                            this.emit('audioData', {\n                                type: 'aac',\n                                timestamp: this._dts,\n                                data: aacraw\n                            })\n                        }\n\n                    } else {\n\n                        let audioraw = remain.slice(1, this.needLen);\n                        this.emit('audioExtraData', {\n                            type,\n                            extraData: new Uint8Array(0)\n                        })\n                        const type = soundformat === SOUND_ID.g711a ? 'g711a' : 'g711u';\n\n\n                        this.emit('audioData', {\n                            type,\n                            timestamp: this._dts,\n                            data: audioraw\n                        })\n                    }\n\n                } else if (this._tagtype === FLV_TAG_TYPE.script) {\n\n\n                } else {\n\n\n                }\n\n                remain = remain.slice(this.needLen);\n\n                this.needLen = 15;\n                this.state = FLV_PARSE_STATE.header;\n            }\n\n        }\n\n        this.tempBuffer = remain;\n\n\n    }\n\n\n}\n\n\nexport default FlvDemuxer;","const AUDIO_ENC_TYPE = {\n    10: 'AAC',\n    7: 'G711A',\n    8: 'G711U'\n}\n\nfunction clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n\nclass AudioPlayer {\n    constructor() {\n        this.bufferList = [];\n        this.scriptNode = null;\n        this.hasInitScriptNode = false;\n        this.audioContextChannel = null;\n\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        //\n        this.gainNode = this.audioContext.createGain();\n        // Get an AudioBufferSourceNode.\n        // This is the AudioNode to use when we want to play an AudioBuffer\n        const source = this.audioContext.createBufferSource();\n        // set the buffer in the AudioBufferSourceNode\n        source.buffer = this.audioContext.createBuffer(1, 1, 22050);\n        // connect the AudioBufferSourceNode to the\n        // destination so we can hear the sound\n        source.connect(this.audioContext.destination);\n        // noteOn as start\n        // start the source playing\n        if (source.noteOn) {\n            source.noteOn(0);\n        } else {\n            source.start(0);\n        }\n        this.audioBufferSourceNode = source;\n        //\n        this.mediaStreamAudioDestinationNode = this.audioContext.createMediaStreamDestination();\n        //\n        this.audioEnabled(true);\n        // default setting 0\n        this.gainNode.gain.value = 0;\n        this.audioInfo = {\n            encType: '',\n            channels: '',\n            sampleRate: ''\n        }\n        this.playing = false;\n    }\n\n    updateAudioInfo(data) {\n        if (data.audioCode) {\n            this.audioInfo.encType = AUDIO_ENC_TYPE[data.audioCode];\n        }\n\n        if (data.channels) {\n            this.audioInfo.channels = data.channels;\n        }\n\n        if (data.sampleRate) {\n            this.audioInfo.sampleRate = data.sampleRate;\n        }\n\n        // audio 基本信息\n        if (this.audioInfo.sampleRate && this.audioInfo.channels && this.audioInfo.encType && !this.init) {\n            console.log('audioInfo', this.audioInfo)\n            this.init = true;\n        }\n    }\n\n    initScriptNode() {\n        const channels = this.audioInfo.channels;\n\n        const scriptNode = this.audioContext.createScriptProcessor(2048, 0, channels);\n        // tips: if audio isStateSuspended  onaudioprocess method not working\n        scriptNode.onaudioprocess = (audioProcessingEvent) => {\n            const outputBuffer = audioProcessingEvent.outputBuffer;\n\n            if (this.bufferList.length && this.playing) {\n\n                const bufferItem = this.bufferList.shift();\n\n                for (let channel = 0; channel < channels; channel++) {\n                    const b = bufferItem.buffer[channel]\n                    const nowBuffering = outputBuffer.getChannelData(channel);\n                    for (let i = 0; i < 2048; i++) {\n                        nowBuffering[i] = b[i] || 0\n                    }\n                }\n            }\n        }\n\n        scriptNode.connect(this.gainNode);\n        this.scriptNode = scriptNode;\n        this.gainNode.connect(this.audioContext.destination);\n        this.gainNode.connect(this.mediaStreamAudioDestinationNode);\n        this.hasInitScriptNode = true;\n    }\n\n    destroy() {\n        if (this.hasInitScriptNode) {\n            this.scriptNode && this.scriptNode.disconnect(this.gainNode);\n            this.gainNode && this.gainNode.disconnect(this.audioContext.destination);\n            this.gainNode && this.gainNode.disconnect(this.mediaStreamAudioDestinationNode);\n        }\n        this.clear();\n        this.audioContext.close();\n        this.audioContext = null;\n        this.gainNode = null;\n        this.hasAudio = false;\n        this.playing = false;\n        if (this.scriptNode) {\n            this.scriptNode.onaudioprocess = null;\n            this.scriptNode = null;\n        }\n        this.audioBufferSourceNode = null;\n        this.mediaStreamAudioDestinationNode = null;\n        this.hasInitScriptNode = false;\n    }\n\n    clear() {\n        this.bufferList = [];\n    }\n\n    play(buffer, ts) {\n        this.hasAudio = true;\n        this.playing = true;\n        this.bufferList.push({\n            buffer,\n            ts\n        });\n    }\n\n    pause() {\n        this.playing = false;\n        this.clear();\n    }\n\n    mute(flag) {\n        if (flag) {\n            this.setVolume(0);\n            this.clear();\n        } else {\n            this.setVolume(0.5);\n            this.audioEnabled(true);\n        }\n    }\n\n    setVolume(volume) {\n        volume = parseFloat(volume).toFixed(2);\n        if (isNaN(volume)) {\n            return;\n        }\n        this.audioEnabled(true);\n        volume = clamp(volume, 0, 1);\n        this.gainNode.gain.value = volume;\n        this.gainNode.gain.setValueAtTime(volume, this.audioContext.currentTime);\n    }\n\n    // 是否播放。。。\n    audioEnabled(flag) {\n        if (flag) {\n            if (this.audioContext.state === 'suspended') {\n                // resume\n                this.audioContext.resume();\n            }\n        } else {\n            if (this.audioContext.state === 'running') {\n                // suspend\n                this.audioContext.suspend();\n            }\n        }\n    }\n\n\n}\n\nexport default AudioPlayer;","import createWebGL from './webglV2';\n\nfunction createContextGL($canvas) {\n    let gl = null;\n\n    const validContextNames = [\"webgl\", \"experimental-webgl\", \"moz-webgl\", \"webkit-3d\"];\n    let nameIndex = 0;\n\n    while (!gl && nameIndex < validContextNames.length) {\n        const contextName = validContextNames[nameIndex];\n\n        try {\n            let contextOptions = {preserveDrawingBuffer: true};\n            gl = $canvas.getContext(contextName, contextOptions);\n        } catch (e) {\n            gl = null;\n        }\n\n        if (!gl || typeof gl.getParameter !== \"function\") {\n            gl = null;\n        }\n\n        ++nameIndex;\n    }\n\n\n    return gl;\n}\n\nfunction isFunction(fn) {\n    return typeof fn === \"function\"\n}\n\nfunction closeVideoFrame(videoFrame) {\n    if (videoFrame.close) {\n        videoFrame.close()\n    } else if (videoFrame.destroy) {\n        videoFrame.destroy()\n    }\n}\n\n\nclass YuvRender {\n    constructor(options) {\n        this.$videoElement = options.$videoElement;\n        this.context2D = null;\n        this.contextGl = null;\n        this.contextGlRender = null;\n        this.contextGlDestroy = null;\n        this.bitmaprenderer = null;\n        this.renderType = null;\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n        }\n\n        this._initContext2D();\n    }\n\n    destroy() {\n        if (this.contextGl) {\n            this.contextGl = null;\n        }\n        if (this.context2D) {\n            this.context2D = null;\n        }\n        if (this.contextGlRender) {\n            this.contextGlDestroy && this.contextGlDestroy();\n            this.contextGlDestroy = null;\n            this.contextGlRender = null;\n        }\n        if (this.bitmaprenderer) {\n            this.bitmaprenderer = null;\n        }\n\n        this.renderType = null;\n    }\n\n    updateVideoInfo(data) {\n        if (data.videoCode) {\n            this.videoInfo.encType = data.videoCode\n        }\n\n        if (data.width) {\n            this.videoInfo.width = data.width;\n        }\n\n        if (data.height) {\n            this.videoInfo.height = data.height;\n        }\n\n        this.$videoElement.height = this.videoInfo.height;\n        this.$videoElement.width = this.videoInfo.width;\n    }\n\n\n    _initContext2D(options = {}) {\n        this.context2D = this.$videoElement.getContext('2d', options);\n    }\n\n\n    render(msg) {\n        if (isFunction(msg.videoFrame.createImageBitmap)) {\n            try {\n                msg.videoFrame.createImageBitmap().then((image) => {\n                    this.context2D.drawImage(image, 0, 0, this.$videoElement.width, this.$videoElement.height);\n                    closeVideoFrame(msg.videoFrame);\n                })\n            } catch (e) {\n            }\n        } else {\n            this.context2D.drawImage(msg.videoFrame, 0, 0, this.$videoElement.width, this.$videoElement.height);\n            closeVideoFrame(msg.videoFrame);\n        }\n    }\n}\n\nexport default YuvRender;","import Emitter from \"./emitter\";\n\nconst VIDEO_ENC_CODE = {\n    h264: 7,\n    h265: 12\n}\n\nfunction formatVideoDecoderConfigure(avcC) {\n    let codecArray = avcC.subarray(1, 4);\n    let codecString = \"avc1.\";\n    for (let j = 0; j < 3; j++) {\n        let h = codecArray[j].toString(16);\n        if (h.length < 2) {\n            h = \"0\" + h\n        }\n        codecString += h\n    }\n\n    return {\n        codec: codecString,\n        description: avcC\n    }\n}\n\nconst ENCODED_VIDEO_TYPE = {\n    key: 'key',\n    delta: 'delta'\n}\n\nclass WcsDecoder extends Emitter {\n    constructor() {\n        super()\n        this.decoder = null;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.isDecodeFirstIIframe = false;\n        this.codecId = null;\n        this._initDecoder();\n    }\n\n    destroy() {\n        this.off();\n        if (this.decoder) {\n            if (this.decoder.state !== 'closed') {\n                this.decoder.close();\n            }\n            this.decoder = null;\n        }\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.isDecodeFirstIIframe = false;\n        this.codecId = null;\n    }\n\n    _initDecoder() {\n        const _this = this;\n        this.decoder = new VideoDecoder({\n            output(videoFrame) {\n                _this._handleDecode(videoFrame)\n            },\n            error(error) {\n\n                _this._handleError(error)\n            }\n        })\n    }\n\n    _handleDecode(videoFrame) {\n        if (!this.isInitInfo) {\n            this.isInitInfo = true;\n            this.emit('videoInfo', {\n                width: videoFrame.codedWidth,\n                height: videoFrame.codedHeight,\n                videoCode: this.codecId\n            })\n        }\n\n        this.emit('videoFrame', {\n            videoFrame,\n            ts: videoFrame.timestamp\n        })\n    }\n\n    _handleError(error) {\n        console.error('Webcodecs', 'handleError', error)\n    }\n\n    setCodecVideo(codecId, extraData) {\n        this.codecId = codecId;\n        let config = null;\n\n        if (codecId === VIDEO_ENC_CODE.h264) {\n            config = formatVideoDecoderConfigure(extraData);\n        }\n        this.decoder.configure(config);\n    }\n\n    decodeVideo(payload, isIframe, ts) {\n        if (!this.isDecodeFirstIIframe && isIframe) {\n            this.isDecodeFirstIIframe = true;\n        }\n\n        if (this.isDecodeFirstIIframe) {\n            const chunk = new EncodedVideoChunk({\n                data: payload,\n                timestamp: ts,\n                type: isIframe ? ENCODED_VIDEO_TYPE.key : ENCODED_VIDEO_TYPE.delta\n            })\n\n            try {\n                if(this.decoder.state === 'configured') {\n                    this.decoder.decode(chunk);\n                }\n\n            } catch (e) {\n                console.error('Webcodecs', 'decodeVideo', e)\n            }\n        }\n    }\n}\n\nexport default WcsDecoder;","import FlvDemuxer from \"./flv-demuxer\";\nimport AudioPlayer from \"./audioPlayer\";\nimport YuvRender from \"./yuvRender\";\nimport WcsDecoder from \"./wcsDecoder\";\n\n\nwindow.FlvDemuxer = FlvDemuxer;\nwindow.WcsDecoder = WcsDecoder;\nwindow.AudioPlayer = AudioPlayer;\nwindow.YuvRender = YuvRender;\n\nexport default {\n    FlvDemuxer,\n    WcsDecoder,\n    YuvRender,\n    AudioPlayer\n}\n"],"names":["require$$0","Emitter","_classCallCheck","_createClass","key","value","on","name","fn","ctx","e","push","once","self","listener","off","_len","arguments","length","args","Array","_key","apply","_","emit","evtArr","slice","_len2","data","_key2","i","callback","Object","keys","forEach","evts","liveEvents","len","FLV_PARSE_STATE","init","header","body","FLV_TAG_TYPE","audio","video","script","FLV_TAG_TYPE_SHOW","CODEC_ID","h264","h265","CODEC_ID_SHOW","SOUND_ID","g711a","g711u","aac","AAC_PACKET_TYPE","sequenceHeader","raw","VIDEO_FRAME_TYPE","keyFrame","interFrame","VIDEO_PACKET_TYPE","nalu","FlvDemuxer","_Emitter","_inherits","_super","_createSuper","_this","call","tempBuffer","needLen","state","destroy","reset","dispatchold","remain","newBuffer","Uint8Array","set","undefined","tmp","ArrayBuffer","dv","DataView","tagType","dts","pts","console","log","concat","flvHeader","f","l","v","version","hasAudio","hasVideo","setUint8","payloadLen","getUint32","frameType","codecId","packetType","compositionTime","extraData","warn","timestamp","isKeyFrame","soundId","aacSequenceHeader","type","aacRaw","g711Raw","dispatch","newbuffer","_tagtype","payloadlen","_dts","frametype","codecid","avcpackettype","compositiontime","_pts","vframe","soundformat","aacpackettype","aacraw","audioraw","AUDIO_ENC_TYPE","clamp","num","a","b","Math","max","min","AudioPlayer","bufferList","scriptNode","hasInitScriptNode","audioContextChannel","audioContext","window","AudioContext","webkitAudioContext","gainNode","createGain","source","createBufferSource","buffer","createBuffer","connect","destination","noteOn","start","audioBufferSourceNode","mediaStreamAudioDestinationNode","createMediaStreamDestination","audioEnabled","gain","audioInfo","encType","channels","sampleRate","playing","updateAudioInfo","audioCode","initScriptNode","createScriptProcessor","onaudioprocess","audioProcessingEvent","outputBuffer","bufferItem","shift","channel","nowBuffering","getChannelData","disconnect","clear","close","play","ts","pause","mute","flag","setVolume","volume","parseFloat","toFixed","isNaN","setValueAtTime","currentTime","resume","suspend","isFunction","closeVideoFrame","videoFrame","YuvRender","options","$videoElement","context2D","contextGl","contextGlRender","contextGlDestroy","bitmaprenderer","renderType","videoInfo","width","height","_initContext2D","updateVideoInfo","videoCode","getContext","render","msg","createImageBitmap","then","image","drawImage","VIDEO_ENC_CODE","formatVideoDecoderConfigure","avcC","codecArray","subarray","codecString","j","h","toString","codec","description","ENCODED_VIDEO_TYPE","delta","WcsDecoder","_this2","decoder","hasInit","isInitInfo","isDecodeFirstIIframe","_initDecoder","VideoDecoder","output","_handleDecode","error","_handleError","codedWidth","codedHeight","setCodecVideo","config","configure","decodeVideo","payload","isIframe","chunk","EncodedVideoChunk","decode"],"mappings":"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"}